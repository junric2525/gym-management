<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Membership Registration</title>
  <link rel="stylesheet" href="../assets/css/memberregister.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
</head>
<body>

  <!-- Header -->
  <header class="header">
    <div class="container header-flex">

      <!-- Logo -->
      <div class="logo">
        <img src="../assets/img/logo.png" alt="Logo" class="logo-img" />
        <h1 class="logo-text">Charles Gym</h1>
      </div>

      <!-- Desktop Navigation -->
      <nav class="nav-desktop">
        <a href="User.html#home"><i class="fas fa-home"></i> Home</a>
        <a href="User.html#services"><i class="fas fa-dumbbell"></i> Services</a>
        <a href="#"><i class="fas fa-id-card"></i> Membership Registration</a>
        <a href="User.html#about"><i class="fas fa-info-circle"></i> About Us</a>

        <!-- Profile Dropdown -->
        <div class="profile-dropdown">
          <button class="profile-btn">
            <i class="fas fa-user"></i> <i class="fas fa-caret-down"></i>
          </button>
          <div class="dropdown-menu">
            <a href="Profile.html"><i class="fas fa-user"></i> Profile</a>
            <a href="../Guest/Index.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
          </div>
        </div>
      </nav>

      <!-- Mobile Profile Burger Button -->
      <button onclick="toggleMenu()" class="menu-btn">
        <i class="fas fa-user"></i>
      </button>

    </div>

    <!-- Mobile Dropdown Menu -->
    <div id="mobileMenu" class="nav-mobile">
      <a href="User.html#home"><i class="fas fa-home"></i> Home</a>
      <a href="User.html#services"><i class="fas fa-dumbbell"></i> Services</a>
      <a href="#"><i class="fas fa-id-card"></i> Membership Registration</a>
      <a href="User.html#about"><i class="fas fa-info-circle"></i> About Us</a>
      <a href="Profile.php"><i class="fas fa-user"></i> Profile</a>
      <a href="../Guest/Index.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </div>
  </header>

  <!-- Main Form -->
  <main class="form-container">
    <h1>Membership Registration</h1>

    <!-- backend-ready form -->
    <form id="registrationForm" action="../backend/register.php" method="POST" enctype="multipart/form-data">

      <!-- Personal Information -->
      <div class="form-group">
        <label>Full Name</label>
        <input name="fullName" type="text" required />
      </div>
      <div class="form-group">
        <label>Date of Birth</label>
        <input name="birthDate" type="date" required />
      </div>
      <div class="form-group">
        <label>Address</label>
        <textarea name="address" rows="3" required></textarea>
      </div>
      <div class="form-group">
        <label>Contact Number</label>
        <input name="contact" type="tel" required />
      </div>
      <div class="form-group">
        <label>Email</label>
        <input name="email" type="email" required />
      </div>

      <!-- Emergency Contact -->
      <div class="form-group">
        <label>Emergency Contact Name</label>
        <input name="emergencyName" type="text" required />
      </div>
      <div class="form-group">
        <label>Emergency Contact Number</label>
        <input name="emergencyNumber" type="tel" required />
      </div>
      <div class="form-group">
        <label>Emergency Contact Relation</label>
        <input name="emergencyRelation" type="text" required />
      </div>

      <!-- Medical Conditions -->
      <div class="form-group">
        <label>Do you have any medical conditions?</label>
        <div class="radio-group">
          <label><input type="radio" name="medicalConditions" value="yes" /> Yes</label>
          <label><input type="radio" name="medicalConditions" value="no" /> No</label>
        </div>
        <input 
          type="text" 
          id="medicalDetails" 
          name="medicalDetails" 
          placeholder="Please specify your illness" 
          style="display:none; margin-top:10px; padding:5px; width:100%;" />
      </div>

      <!-- Medications -->
      <div class="form-group">
        <label>Are you taking any medications?</label>
        <div class="radio-group">
          <label><input type="radio" name="medications" value="yes" /> Yes</label>
          <label><input type="radio" name="medications" value="no" /> No</label>
        </div>
        <input 
          type="text" 
          id="medicationsDetails" 
          name="medicationsDetails" 
          placeholder="Please specify your medications" 
          style="display:none; margin-top:10px; padding:5px; width:100%;" />
      </div>

      <!-- Valid ID Upload -->
      <div class="form-group">
        <label for="validIdUpload">Upload Valid ID 
          <i class="fas fa-info-circle info-icon" 
             title="Accepted IDs: Driver‚Äôs License, Passport, National ID, PhilHealth, SSS, Voter‚Äôs ID, UMID, Postal ID"></i>
        </label>
        <input type="file" id="validIdUpload" name="validIdUpload" accept="image/*,.pdf" required />
        <small>Accepted file types: JPG, PNG, PDF. Max size: 5MB.</small>
      </div>

      <!-- Agreement -->
      <div class="form-group checkbox">
        <label>
          <input name="agree" type="checkbox" required />
          I agree to the <a href="#" id="termscondition">terms and conditions</a>.
        </label>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button id="openModalBtn" type="button">Proceed</button>
        <a href="User.html" class="btn cancel-btn">Cancel</a>
      </div>

      <!-- Hidden submit (triggered after GCash modal) -->
      <button type="submit" id="finalSubmitBtn" style="display:none;"></button>

      <!-- Success Message -->
      <p id="successMessage" class="success-message">Form submitted successfully!</p>
    </form>
  </main>

  <!-- Terms and Conditions Modal -->
  <div id="termsModal" class="modal">
    <div class="modal-content">
      <span id="closeTermsBtn" class="close-btn" aria-label="Close Terms">&times;</span>
      <h2>Terms and Conditions</h2>
      <div class="terms-content">
        <p><strong>1.</strong> You should always consult your doctor before starting an exercise program...</p>
        <p><strong>2.</strong> I declare that I have consulted a healthcare professional...</p>
        <p><strong>3.</strong> I understand that there is a risk of injury associated with physical activity...</p>
        <p><strong>4.</strong> I hereby assume full responsibility for any and all injuries...</p>
      </div>
    </div>
  </div>

 <!-- GCash Payment Modal -->
<div id="gcashModal" class="modal">
  <div class="modal-content">
    <span id="closeModalBtn" class="close">&times;</span>
    <h2>GCash Payment</h2>
    <p>Scan the QR code and enter your reference number below.</p>
    <img src="../assets/img/gcashqr.jpg" alt="GCash QR Code">

    <!-- Single backend-ready form -->
    <form id="gcashForm" action="../backend/process_gcash.php" method="POST">
      <!-- Hidden input for the selected plan -->
      <input type="hidden" id="selectedPlan" name="plan" value="1">

      <!-- Reference number input -->
      <input type="text" id="refNumber" name="gcashRefNumber" placeholder="Enter Reference Number" required>

      <!-- Submit button -->
      <button type="submit" class="btn">Submit</button>
    </form>
  </div>
</div>


  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-grid">
      <div class="footer-about">
        <h3>CHARLES GYM</h3>
        <p>World-class fitness training in a supportive and motivating environment.</p>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <a href="#home">Home</a>
        <a href="#about">About Us</a>
        <a href="#services">Services</a>
      </div>
      <div class="footer-contact">
        <h4>Contact Us</h4>
        <p>üìç Unit 21, Landsdale Tower, QC</p>
        <p>üìû (555) 123-4567</p>
        <p>‚úâ charlesgym@gmail.com</p>
      </div>
    </div>
    <div class="footer-bottom">¬© <span id="footerYear"></span> Charles Gym. All rights reserved.</div>
  </footer>

  <script src="../assets/js/memberregister.js"></script>
</body>
</html>
